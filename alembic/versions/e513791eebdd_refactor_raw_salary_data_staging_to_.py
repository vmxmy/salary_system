"""refactor raw_salary_data_staging to new english columns

Revision ID: e513791eebdd
Revises: 87a9391cdaa1
Create Date: 2024-07-17 12:19:13.090891

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = 'e513791eebdd'
down_revision: Union[str, None] = '87a9391cdaa1'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    # Step 1: Drop Chinese columns
    op.drop_column('raw_salary_data_staging', 'job_attr_人员身份', schema='staging')
    op.drop_column('raw_salary_data_staging', 'job_attr_人员职级', schema='staging')
    op.drop_column('raw_salary_data_staging', 'job_attr_岗位类别', schema='staging')
    op.drop_column('raw_salary_data_staging', 'job_attr_参照正编岗位工资级别', schema='staging')
    op.drop_column('raw_salary_data_staging', 'job_attr_参照正编薪级工资级次', schema='staging')
    op.drop_column('raw_salary_data_staging', 'job_attr_工资级别', schema='staging')
    op.drop_column('raw_salary_data_staging', 'job_attr_工资档次', schema='staging')
    op.drop_column('raw_salary_data_staging', 'job_attr_固定薪酬全年应发数', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_一次性补扣发', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_基础绩效奖补扣发', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_职务技术等级工资', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_级别岗位级别工资', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_93年工改保留补贴', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_独生子女父母奖励金', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_岗位职务补贴', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_公务员规范性津贴补贴', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_公务交通补贴', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_基础绩效奖', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_见习试用期工资', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_信访工作人员岗位津贴', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_奖励绩效补扣发', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_岗位工资', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_薪级工资', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_月基础绩效', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_月奖励绩效', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_基本工资', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_绩效工资', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_其他补助', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_补发工资', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_津贴', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_季度绩效考核薪酬', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_补助', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_信访岗位津贴', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_补扣发合计', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_生活津贴', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_1季度3季度考核绩效奖', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_补发薪级合计', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_个人缴养老保险费', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_个人缴医疗保险费', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_个人缴职业年金', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_个人缴住房公积金', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_个人缴失业保险费', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_个人所得税', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_其他扣款', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_补扣退社保缴费', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_补扣退公积金', schema='staging')
    op.drop_column('raw_salary_data_staging', 'deduct_补扣个税', schema='staging')
    op.drop_column('raw_salary_data_staging', 'contrib_单位缴养老保险费', schema='staging')
    op.drop_column('raw_salary_data_staging', 'contrib_单位缴医疗保险费', schema='staging')
    op.drop_column('raw_salary_data_staging', 'contrib_单位缴职业年金', schema='staging')
    op.drop_column('raw_salary_data_staging', 'contrib_单位缴住房公积金', schema='staging')
    op.drop_column('raw_salary_data_staging', 'contrib_单位缴失业保险费', schema='staging')
    op.drop_column('raw_salary_data_staging', 'contrib_大病医疗单位缴纳', schema='staging')
    op.drop_column('raw_salary_data_staging', 'other_备注', schema='staging')

    # Step 2: Add English columns (24 new columns)
    op.add_column('raw_salary_data_staging', sa.Column('subsidy', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('post_category', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('performance_salary', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('petition_post_allowance', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('ref_official_salary_step', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('personnel_identity', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('is_leader', sa.Boolean(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('basic_performance_bonus', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_grade', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('position_or_post_wage', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('rank_or_step_wage', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('position_rank', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('monthly_basic_performance', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('monthly_reward_performance', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('only_child_parents_reward', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('probation_salary', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('reform_1993_reserved_subsidy', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('basic_salary', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_post_position_allowance', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_petition_worker_post_allowance', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_civil_servant_normative_allowance', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_transportation_allowance', sa.Numeric(15, 2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_level', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('post_salary', sa.Numeric(15, 2), nullable=True), schema='staging')

    # Step 3: Core Identity and Metadata English columns were already present, so no add operations here.
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    # Step 3: Core Identity and Metadata English columns were managed by a previous migration, so no drop operations here for them.

    # Step 2: Drop English columns (24 new columns)
    op.drop_column('raw_salary_data_staging', 'post_salary', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_level', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_transportation_allowance', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_civil_servant_normative_allowance', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_petition_worker_post_allowance', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_post_position_allowance', schema='staging')
    op.drop_column('raw_salary_data_staging', 'basic_salary', schema='staging')
    op.drop_column('raw_salary_data_staging', 'reform_1993_reserved_subsidy', schema='staging')
    op.drop_column('raw_salary_data_staging', 'probation_salary', schema='staging')
    op.drop_column('raw_salary_data_staging', 'only_child_parents_reward', schema='staging')
    op.drop_column('raw_salary_data_staging', 'monthly_reward_performance', schema='staging')
    op.drop_column('raw_salary_data_staging', 'monthly_basic_performance', schema='staging')
    op.drop_column('raw_salary_data_staging', 'position_rank', schema='staging')
    op.drop_column('raw_salary_data_staging', 'rank_or_step_wage', schema='staging')
    op.drop_column('raw_salary_data_staging', 'position_or_post_wage', schema='staging')
    op.drop_column('raw_salary_data_staging', 'salary_grade', schema='staging')
    op.drop_column('raw_salary_data_staging', 'basic_performance_bonus', schema='staging')
    op.drop_column('raw_salary_data_staging', 'is_leader', schema='staging')
    op.drop_column('raw_salary_data_staging', 'personnel_identity', schema='staging')
    op.drop_column('raw_salary_data_staging', 'ref_official_salary_step', schema='staging')
    op.drop_column('raw_salary_data_staging', 'petition_post_allowance', schema='staging')
    op.drop_column('raw_salary_data_staging', 'performance_salary', schema='staging')
    op.drop_column('raw_salary_data_staging', 'post_category', schema='staging')
    op.drop_column('raw_salary_data_staging', 'subsidy', schema='staging')

    # Step 1: Re-add Chinese columns
    op.add_column('raw_salary_data_staging', sa.Column('other_备注', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('contrib_大病医疗单位缴纳', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('contrib_单位缴失业保险费', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('contrib_单位缴住房公积金', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('contrib_单位缴职业年金', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('contrib_单位缴医疗保险费', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('contrib_单位缴养老保险费', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_补扣个税', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_补扣退公积金', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_补扣退社保缴费', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_其他扣款', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_个人所得税', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_个人缴失业保险费', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_个人缴住房公积金', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_个人缴职业年金', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_个人缴医疗保险费', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('deduct_个人缴养老保险费', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_补发薪级合计', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_1季度3季度考核绩效奖', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_生活津贴', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_补扣发合计', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_信访岗位津贴', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_补助', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_季度绩效考核薪酬', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_津贴', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_补发工资', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_其他补助', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_绩效工资', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_基本工资', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_月奖励绩效', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_月基础绩效', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_薪级工资', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_岗位工资', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_奖励绩效补扣发', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_信访工作人员岗位津贴', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_见习试用期工资', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_基础绩效奖', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_公务交通补贴', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_公务员规范性津贴补贴', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_岗位职务补贴', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_独生子女父母奖励金', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_93年工改保留补贴', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_级别岗位级别工资', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_职务技术等级工资', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_基础绩效奖补扣发', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('salary_一次性补扣发', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('job_attr_固定薪酬全年应发数', sa.Numeric(12,2), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('job_attr_工资档次', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('job_attr_工资级别', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('job_attr_参照正编薪级工资级次', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('job_attr_参照正编岗位工资级别', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('job_attr_岗位类别', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('job_attr_人员职级', sa.Text(), nullable=True), schema='staging')
    op.add_column('raw_salary_data_staging', sa.Column('job_attr_人员身份', sa.Text(), nullable=True), schema='staging')
    # ### end Alembic commands ###
